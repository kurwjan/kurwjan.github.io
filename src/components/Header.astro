---
import { LucideGithub, LucideMail } from "lucide-vue-next";
import { DiscordIcon, GitHubIcon } from "vue3-simple-icons";
---

<div class="h-[76px]"></div>
<nav class="p-4 fixed top-0 w-full bg-primary z-2">
    <ul class="flex justify-between items-center">
        <li>
            <a href="/" class="font-logo font-bold text-2xl tracking-widest">
                DACJAN
            </a>
        </li>
        <li class="flex gap-2">
            <a
                href="mailto:dac.gapinski@gmail.com"
                class="flex rounded-md p-2 bg-white border-2 shadow-neobrutalism mr-1 base-animation button-active"
                target="_blank"
            >
                <LucideMail />
            </a>
            <button
                id="discord"
                class="flex rounded-md p-2 bg-white border-2 shadow-neobrutalism mr-1 base-animation button-active cursor-pointer font-body"
            >
                <DiscordIcon />
            </button>
            <a
                href="https://github.com/kurwjan"
                class="flex rounded-md p-2 bg-white border-2 shadow-neobrutalism mr-1 base-animation button-active"
                target="_blank"
            >
                <GitHubIcon />
            </a>
        </li>
    </ul>
</nav>

<script>
    function afterSwap() {
        const button = document.getElementById("discord") as HTMLButtonElement;
        button.addEventListener("click", () => {
            navigator.clipboard.writeText("kurwjan");
            button.innerHTML = "Kopiert!";
        });

        addEventListener("scroll", (event) => {
            const nav = document.querySelector("nav")!;
            if (window.scrollY > 0) {
                nav.style.borderBottom = "2px solid #000";
            } else {
                nav.style.borderBottom = "none";
            }
        });
    }

    document.addEventListener("astro:after-swap", () => afterSwap());

    afterSwap();
</script>
